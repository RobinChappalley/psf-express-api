openapi: 3.0.0
info:
  title: Camps API
  version: 1.0.0

paths:
  ########################
  # AUTHENTICATION
  ########################

  /login:
    post:
      tags: [Authentication]
      summary: Connexion utilisateur
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                email: { type: string }
                password: { type: string }
      responses:
        "200":
          description: Connexion réussie
        "400":
          description: Données invalides
        "401":
          description: Identifiants invalides
        "500":
          description: Erreur interne du serveur

  /logout:
    post:
      tags: [Authentication]
      summary: Déconnexion utilisateur
      responses:
        "200":
          description: Déconnexion réussie
        "500":
          description: Erreur interne du serveur

  ########################
  # CAMPS
  ########################

  /camps:
    get:
      tags: [Camps]
      summary: Récupérer la liste de tous les camps
      responses:
        "200":
          description: Liste de camps
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/Camp"
        "500":
          description: Erreur interne du serveur
    post:
      tags: [Camps]
      summary: Ajouter un camp
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name: { type: string }
                start-date: { type: string, format: date }
                end-date: { type: string, format: date }
                subscription-start-date: { type: string, format: date }
                subscription-deadline: { type: string, format: date }
                GPS-track: { type: object }
      responses:
        "201":
          description: Camp créé
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Camp"
        "400":
          description: Données invalides
        "500":
          description: Erreur interne du serveur

  /camps/{id}:
    get:
      tags: [Camps]
      summary: Récupérer un camp
      parameters:
        - in: path
          name: id
          required: true
          schema: { type: string }
          description: ID du camp
      responses:
        "200":
          description: Camp trouvé
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Camp"
        "404":
          description: Camp non trouvé
        "500":
          description: Erreur interne du serveur
    put:
      tags: [Camps]
      summary: Mettre à jour un camp
      parameters:
        - in: path
          name: id
          required: true
          schema: { type: string }
          description: ID du camp
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name: { type: string }
                start-date: { type: string, format: date }
                end-date: { type: string, format: date }
                subscription-start-date: { type: string, format: date }
                subscription-deadline: { type: string, format: date }
                GPS-track: { type: object }
      responses:
        "200":
          description: Camp mis à jour
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Camp"
        "404":
          description: Camp non trouvé
        "500":
          description: Erreur interne du serveur
    delete:
      tags: [Camps]
      summary: Supprimer un camp
      parameters:
        - in: path
          name: id
          required: true
          schema: { type: string }
          description: ID du camp
      responses:
        "200":
          description: Camp supprimé
        "404":
          description: Camp non trouvé
        "500":
          description: Erreur interne du serveur

  ########################
  # CAMP ITEMS
  ########################

  /camps/{id}/items:
    get:
      tags: [Items]
      summary: Récupérer tous les objets d'un camp
      parameters:
        - in: path
          name: id
          required: true
          schema: { type: string }
          description: ID du camp
      responses:
        "200":
          description: Liste des objets
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/CampItem"
        "404":
          description: Camp non trouvé
        "500":
          description: Erreur interne du serveur
    post:
      tags: [Items]
      summary: Ajouter un objet à un camp
      parameters:
        - in: path
          name: id
          required: true
          schema: { type: string }
          description: ID du camp
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                item_id: { type: string }
                quantity: { type: string }
      responses:
        "201":
          description: Objet ajouté
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CampItem"
        "400":
          description: Données invalides
        "404":
          description: Camp non trouvé
        "500":
          description: Erreur interne du serveur

  /camps/{id}/item:
    put:
      tags: [Items]
      summary: Mettre à jour un objet d'un camp
      parameters:
        - in: path
          name: id
          required: true
          schema: { type: string }
          description: ID du camp
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                item_id: { type: string }
                quantity: { type: string }
      responses:
        "200":
          description: Objet mis à jour
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CampItem"
        "400":
          description: Données invalides
        "404":
          description: Camp ou objet non trouvé
        "500":
          description: Erreur interne du serveur
    delete:
      tags: [Items]
      summary: Supprimer un objet d'un camp
      parameters:
        - in: path
          name: id
          required: true
          schema: { type: string }
          description: ID du camp
      responses:
        "200":
          description: Objet supprimé
        "404":
          description: Camp ou objet non trouvé
        "500":
          description: Erreur interne du serveur

  ########################
  # CAMP TRAININGS
  ########################

  /camps/{id}/trainings:
    get:
      tags: [Trainings]
      summary: Récupérer les entraînements d'un camp
      parameters:
        - in: path
          name: id
          required: true
          schema: { type: string }
          description: ID du camp
      responses:
        "200":
          description: Liste des entraînements
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/Training"
        "404":
          description: Camp non trouvé
        "500":
          description: Erreur interne du serveur
    post:
      tags: [Trainings]
      summary: Ajouter un entraînement
      parameters:
        - in: path
          name: id
          required: true
          schema: { type: string }
          description: ID du camp
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                date: { type: string }
                train-going-time: { type: string }
                meeting-time: { type: string }
                meeting-point: { type: string }
                return-time: { type: string }
                train-return-time: { type: string }
                distance: { type: string }
                elevation-difference: { type: string }
                remark: { type: string }
                responsible-person-id: { type: string }
      responses:
        "201":
          description: Entraînement ajouté
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Training"
        "400":
          description: Données invalides
        "404":
          description: Camp non trouvé
        "500":
          description: Erreur interne du serveur

  /camps/{id}/trainings/{id2}:
    put:
      tags: [Trainings]
      summary: Modifier un entraînement
      parameters:
        - {
            in: path,
            name: id,
            required: true,
            schema: { type: string },
            description: ID du camp,
          }
        - {
            in: path,
            name: id2,
            required: true,
            schema: { type: string },
            description: ID de l'entraînement,
          }
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                date: { type: string }
                train-going-time: { type: string }
                meeting-time: { type: string }
                meeting-point: { type: string }
                return-time: { type: string }
                train-return-time: { type: string }
                distance: { type: string }
                elevation-difference: { type: string }
                remark: { type: string }
                responsible-person-id: { type: string }
      responses:
        "200":
          description: Entraînement mis à jour
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Training"
        "400":
          description: Données invalides
        "404":
          description: Camp ou entraînement non trouvé
        "500":
          description: Erreur interne du serveur
    delete:
      tags: [Trainings]
      summary: Supprimer un entraînement
      parameters:
        - {
            in: path,
            name: id,
            required: true,
            schema: { type: string },
            description: ID du camp,
          }
        - {
            in: path,
            name: id2,
            required: true,
            schema: { type: string },
            description: ID de l'entraînement,
          }
      responses:
        "200":
          description: Entraînement supprimé
        "404":
          description: Camp ou entraînement non trouvé
        "500":
          description: Erreur interne du serveur

  /camps/{id}/trainings/{id2}/items:
    get:
      tags: [Items]
      summary: Récupérer les objets d'un entraînement
      parameters:
        - {
            in: path,
            name: id,
            required: true,
            schema: { type: string },
            description: ID du camp,
          }
        - {
            in: path,
            name: id2,
            required: true,
            schema: { type: string },
            description: ID de l'entraînement,
          }
      responses:
        "200":
          description: Liste des objets
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/CampItem"
        "404":
          description: Camp ou entraînement non trouvé
        "500":
          description: Erreur interne du serveur
    post:
      tags: [Items]
      summary: Ajouter un objet d'entraînement
      parameters:
        - {
            in: path,
            name: id,
            required: true,
            schema: { type: string },
            description: ID du camp,
          }
        - {
            in: path,
            name: id2,
            required: true,
            schema: { type: string },
            description: ID de l'entraînement,
          }
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                item_id: { type: string }
                quantity: { type: string }
      responses:
        "201":
          description: Objet ajouté
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CampItem"
        "400":
          description: Données invalides
        "404":
          description: Camp ou entraînement non trouvé
        "500":
          description: Erreur interne du serveur

  /camps/{id}/trainings/{id2}/items/{id3}:
    put:
      tags: [Items]
      summary: Modifier un objet d'entraînement
      parameters:
        - {
            in: path,
            name: id,
            required: true,
            schema: { type: string },
            description: ID du camp,
          }
        - {
            in: path,
            name: id2,
            required: true,
            schema: { type: string },
            description: ID de l'entraînement,
          }
        - {
            in: path,
            name: id3,
            required: true,
            schema: { type: string },
            description: ID de l'objet,
          }
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                quantity: { type: string }
      responses:
        "200":
          description: Objet modifié
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CampItem"
        "400":
          description: Données invalides
        "404":
          description: Camp, entraînement ou objet non trouvé
        "500":
          description: Erreur interne du serveur
    delete:
      tags: [Items]
      summary: Supprimer un objet d'entraînement
      parameters:
        - {
            in: path,
            name: id,
            required: true,
            schema: { type: string },
            description: ID du camp,
          }
        - {
            in: path,
            name: id2,
            required: true,
            schema: { type: string },
            description: ID de l'entraînement,
          }
        - {
            in: path,
            name: id3,
            required: true,
            schema: { type: string },
            description: ID de l'objet,
          }
      responses:
        "200":
          description: Objet supprimé
        "404":
          description: Camp, entraînement ou objet non trouvé
        "500":
          description: Erreur interne du serveur

  ########################
  # HIKES
  ########################

  /hikes:
    get:
      tags: [Hikes]
      summary: Récupérer la liste des marches
      responses:
        "200":
          description: Liste des marches
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/Hike"
        "500":
          description: Erreur interne du serveur
    post:
      tags: [Hikes]
      summary: Ajouter une marche
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                user-id: { type: string }
                date: { type: string }
                number: { type: string }
                start-point: { type: string }
                end-point: { type: string }
                distance: { type: string }
                elevation-gain: { type: string }
                elevation-loss: { type: string }
                route-description: { type: string }
                GPS-track: { type: object }
      responses:
        "201":
          description: Marche ajoutée
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Hike"
        "400":
          description: Données invalides
        "500":
          description: Erreur interne du serveur

  /hikes/{id}:
    get:
      tags: [Hikes]
      summary: Récupérer une marche
      parameters:
        - in: path
          name: id
          required: true
          schema: { type: string }
          description: ID de la marche
      responses:
        "200":
          description: Marche trouvée
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Hike"
        "404":
          description: Marche non trouvée
        "500":
          description: Erreur interne du serveur
    put:
      tags: [Hikes]
      summary: Mettre à jour une marche
      parameters:
        - in: path
          name: id
          required: true
          schema: { type: string }
          description: ID de la marche
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                user-id: { type: string }
                date: { type: string }
                number: { type: string }
                start-point: { type: string }
                end-point: { type: string }
                distance: { type: string }
                elevation-gain: { type: string }
                elevation-loss: { type: string }
                route-description: { type: string }
                GPS-track: { type: object }
      responses:
        "200":
          description: Marche mise à jour
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Hike"
        "400":
          description: Données invalides
        "404":
          description: Marche non trouvée
        "500":
          description: Erreur interne du serveur
    delete:
      tags: [Hikes]
      summary: Supprimer une marche
      parameters:
        - in: path
          name: id
          required: true
          schema: { type: string }
          description: ID de la marche
      responses:
        "200":
          description: Marche supprimée
        "404":
          description: Marche non trouvée
        "500":
          description: Erreur interne du serveur

  ########################
  # ITEMS (GLOBAL)
  ########################

  /items:
    get:
      tags: [Items]
      summary: Récupérer tous les objets
      responses:
        "200":
          description: Liste des objets
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/Item"
        "500":
          description: Erreur interne du serveur
    post:
      tags: [Items]
      summary: Ajouter un objet
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                slug: { type: string }
                name: { type: string }
                description: { type: string }
      responses:
        "201":
          description: Objet ajouté
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Item"
        "400":
          description: Données invalides
        "500":
          description: Erreur interne du serveur

  /item/{id}:
    put:
      tags: [Items]
      summary: Modifier un objet
      parameters:
        - {
            in: path,
            name: id,
            required: true,
            schema: { type: string },
            description: ID de l'objet,
          }
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                slug: { type: string }
                name: { type: string }
                description: { type: string }
      responses:
        "200":
          description: Objet modifié
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Item"
        "400":
          description: Données invalides
        "404":
          description: Objet non trouvé
        "500":
          description: Erreur interne du serveur
    delete:
      tags: [Items]
      summary: Supprimer un objet
      parameters:
        - {
            in: path,
            name: id,
            required: true,
            schema: { type: string },
            description: ID de l'objet,
          }
      responses:
        "200":
          description: Objet supprimé
        "404":
          description: Objet non trouvé
        "500":
          description: Erreur interne du serveur

  ########################
  # FUNDRAISINGS
  ########################

  /camps/{id}/fundraisings:
    get:
      tags: [Fundraisings]
      summary: Récupérer toutes les ventes
      parameters:
        - {
            in: path,
            name: id,
            required: true,
            schema: { type: string },
            description: ID du camp,
          }
      responses:
        "200":
          description: Liste des ventes
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/Fundraising"
        "404":
          description: Camp non trouvé
        "500":
          description: Erreur interne du serveur
    post:
      tags: [Fundraisings]
      summary: Ajouter une vente
      parameters:
        - {
            in: path,
            name: id,
            required: true,
            schema: { type: string },
            description: ID du camp,
          }
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                datetime: { type: string }
                location: { type: string }
                users-id:
                  type: array
                  items: { type: string }
      responses:
        "201":
          description: Vente ajoutée
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Fundraising"
        "400":
          description: Données invalides
        "404":
          description: Camp non trouvé
        "500":
          description: Erreur interne du serveur

  /camps/{id}/fundraisings/{id2}:
    get:
      tags: [Fundraisings]
      summary: Récupérer une vente
      parameters:
        - {
            in: path,
            name: id,
            required: true,
            schema: { type: string },
            description: ID du camp,
          }
        - {
            in: path,
            name: id2,
            required: true,
            schema: { type: string },
            description: ID de la vente,
          }
      responses:
        "200":
          description: Vente trouvée
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Fundraising"
        "404":
          description: Camp ou vente non trouvé
        "500":
          description: Erreur interne du serveur
    put:
      tags: [Fundraisings]
      summary: Modifier une vente
      parameters:
        - {
            in: path,
            name: id,
            required: true,
            schema: { type: string },
            description: ID du camp,
          }
        - {
            in: path,
            name: id2,
            required: true,
            schema: { type: string },
            description: ID de la vente,
          }
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                datetime: { type: string }
                location: { type: string }
                users-id:
                  type: array
                  items: { type: string }
      responses:
        "200":
          description: Vente modifiée
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Fundraising"
        "400":
          description: Données invalides
        "404":
          description: Camp ou vente non trouvé
        "500":
          description: Erreur interne du serveur
    delete:
      tags: [Fundraisings]
      summary: Supprimer une vente
      parameters:
        - {
            in: path,
            name: id,
            required: true,
            schema: { type: string },
            description: ID du camp,
          }
        - {
            in: path,
            name: id2,
            required: true,
            schema: { type: string },
            description: ID de la vente,
          }
      responses:
        "200":
          description: Vente supprimée
        "404":
          description: Camp ou vente non trouvé
        "500":
          description: Erreur interne du serveur

  ########################
  # STAGES
  ########################

  /camps/{id}/stages:
    get:
      tags: [Étapes]
      summary: Récupérer les étapes
      parameters:
        - {
            in: path,
            name: id,
            required: true,
            schema: { type: string },
            description: ID du camp,
          }
      responses:
        "200":
          description: Liste des étapes
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/Stage"
        "404":
          description: Camp non trouvé
        "500":
          description: Erreur interne du serveur
    post:
      tags: [Étapes]
      summary: Ajouter une étape
      parameters:
        - {
            in: path,
            name: id,
            required: true,
            schema: { type: string },
            description: ID du camp,
          }
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                date: { type: string }
                number: { type: string }
                start-point: { type: string }
                end-point: { type: string }
                distance: { type: string }
                elevation-gain: { type: string }
                elevation-loss: { type: string }
                route-description: { type: string }
      responses:
        "201":
          description: Étape ajoutée
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Stage"
        "400":
          description: Données invalides
        "404":
          description: Camp non trouvé
        "500":
          description: Erreur interne du serveur

  /camps/{id}/stages/{id2}:
    get:
      tags: [Étapes]
      summary: Récupérer une étape
      parameters:
        - {
            in: path,
            name: id,
            required: true,
            schema: { type: string },
            description: ID du camp,
          }
        - {
            in: path,
            name: id2,
            required: true,
            schema: { type: string },
            description: ID de l'étape,
          }
      responses:
        "200":
          description: Étape trouvée
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Stage"
        "404":
          description: Camp ou étape non trouvé
        "500":
          description: Erreur interne du serveur
    put:
      tags: [Étapes]
      summary: Modifier une étape
      parameters:
        - {
            in: path,
            name: id,
            required: true,
            schema: { type: string },
            description: ID du camp,
          }
        - {
            in: path,
            name: id2,
            required: true,
            schema: { type: string },
            description: ID de l'étape,
          }
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                date: { type: string }
                number: { type: string }
                start-point: { type: string }
                end-point: { type: string }
                distance: { type: string }
                elevation-gain: { type: string }
                elevation-loss: { type: string }
                route-description: { type: string }
      responses:
        "200":
          description: Étape modifiée
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Stage"
        "400":
          description: Données invalides
        "404":
          description: Camp ou étape non trouvé
        "500":
          description: Erreur interne du serveur
    delete:
      tags: [Étapes]
      summary: Supprimer une étape
      parameters:
        - {
            in: path,
            name: id,
            required: true,
            schema: { type: string },
            description: ID du camp,
          }
        - {
            in: path,
            name: id2,
            required: true,
            schema: { type: string },
            description: ID de l'étape,
          }
      responses:
        "200":
          description: Étape supprimée
        "404":
          description: Camp ou étape non trouvé
        "500":
          description: Erreur interne du serveur

  ########################
  # AG
  ########################

  /camps/{id}/ag:
    get:
      tags: [AG]
      summary: Récupérer une AG
      parameters:
        - {
            name: id,
            in: path,
            required: true,
            schema: { type: string },
            description: ID du camp,
          }
      responses:
        "200":
          description: AG trouvée
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AG"
        "404":
          description: Camp ou AG non trouvé
        "500":
          description: Erreur interne du serveur
    post:
      tags: [AG]
      summary: Ajouter une AG
      parameters:
        - {
            name: id,
            in: path,
            required: true,
            schema: { type: string },
            description: ID du camp,
          }
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                date: { type: string }
                time: { type: string }
                location: { type: string }
                participants:
                  type: array
                  items:
                    $ref: "#/components/schemas/Participant"
      responses:
        "201":
          description: AG ajoutée
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AG"
        "400":
          description: Données invalides
        "404":
          description: Camp non trouvé
        "500":
          description: Erreur interne du serveur
    put:
      tags: [AG]
      summary: Modifier une AG
      parameters:
        - {
            name: id,
            in: path,
            required: true,
            schema: { type: string },
            description: ID du camp,
          }
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                date: { type: string }
                time: { type: string }
                location: { type: string }
                participants:
                  type: array
                  items:
                    $ref: "#/components/schemas/Participant"
      responses:
        "200":
          description: AG modifiée
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AG"
        "400":
          description: Données invalides
        "404":
          description: Camp ou AG non trouvé
        "500":
          description: Erreur interne du serveur
    delete:
      tags: [AG]
      summary: Supprimer une AG
      parameters:
        - {
            name: id,
            in: path,
            required: true,
            schema: { type: string },
            description: ID du camp,
          }
      responses:
        "200":
          description: AG supprimée
        "404":
          description: Camp ou AG non trouvé
        "500":
          description: Erreur interne du serveur

  ########################
  # INFORMATION EVENING
  ########################

  /camps/{id}/information-evening:
    get:
      tags: [InformationEvening]
      summary: Récupérer une soirée d'information
      parameters:
        - {
            name: id,
            in: path,
            required: true,
            schema: { type: string },
            description: ID du camp,
          }
      responses:
        "200":
          description: Soirée trouvée
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/InformationEvening"
        "404":
          description: Camp ou IE non trouvé
        "500":
          description: Erreur interne du serveur
    post:
      tags: [InformationEvening]
      summary: Ajouter une soirée d'information
      parameters:
        - {
            name: id,
            in: path,
            required: true,
            schema: { type: string },
            description: ID du camp,
          }
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                date: { type: string }
                time: { type: string }
                location: { type: string }
                participants:
                  type: array
                  items:
                    $ref: "#/components/schemas/Participant"
      responses:
        "201":
          description: IE ajoutée
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/InformationEvening"
        "400":
          description: Données invalides
        "404":
          description: Camp non trouvé
        "500":
          description: Erreur interne du serveur
    put:
      tags: [InformationEvening]
      summary: Modifier une soirée d'information
      parameters:
        - {
            name: id,
            in: path,
            required: true,
            schema: { type: string },
            description: ID du camp,
          }
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                date: { type: string }
                time: { type: string }
                location: { type: string }
                participants:
                  type: array
                  items:
                    $ref: "#/components/schemas/Participant"
      responses:
        "200":
          description: IE modifiée
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/InformationEvening"
        "400":
          description: Données invalides
        "404":
          description: Camp ou IE non trouvé
        "500":
          description: Erreur interne du serveur
    delete:
      tags: [InformationEvening]
      summary: Supprimer une soirée d'information
      parameters:
        - {
            name: id,
            in: path,
            required: true,
            schema: { type: string },
            description: ID du camp,
          }
      responses:
        "200":
          description: IE supprimée
        "404":
          description: Camp ou IE non trouvé
        "500":
          description: Erreur interne du serveur

#############################
# SCHEMAS
#############################

components:
  schemas:
    ####################################
    # CAMP
    ####################################
    Camp:
      type: object
      properties:
        id: { type: string }
        name: { type: string }
        start-date: { type: string, format: date }
        end-date: { type: string, format: date }
        subscription-start-date: { type: string, format: date }
        subscription-deadline: { type: string, format: date }
        GPS-track:
          type: object
        items-list:
          type: array
          items:
            $ref: "#/components/schemas/CampItem"
        information-evening:
          $ref: "#/components/schemas/InformationEvening"
        trainings:
          type: array
          items:
            $ref: "#/components/schemas/Training"
        stages:
          type: array
          items:
            $ref: "#/components/schemas/Stage"
        fundraising:
          type: array
          items:
            $ref: "#/components/schemas/Fundraising"
        AG:
          $ref: "#/components/schemas/AG"

    CampItem:
      type: object
      properties:
        item_id: { type: string }
        quantity: { type: string }

    ####################################
    # TRAINING
    ####################################
    Training:
      type: object
      properties:
        date: { type: string }
        train-going-time: { type: string }
        meeting-time: { type: string }
        meeting-point: { type: string }
        return-time: { type: string }
        train-return-time: { type: string }
        distance: { type: string }
        elevation-difference: { type: string }
        remark: { type: string }
        id: { type: string }
        responsible-person-id: { type: string }
        items-list:
          type: array
          items:
            $ref: "#/components/schemas/CampItem"

    ####################################
    # STAGE
    ####################################
    Stage:
      type: object
      properties:
        date: { type: string }
        number: { type: string }
        start-point: { type: string }
        end-point: { type: string }
        distance: { type: string }
        elevation-gain: { type: string }
        elevation-loss: { type: string }
        route-description: { type: string }

    ####################################
    # FUNDRAISING
    ####################################
    Fundraising:
      type: object
      properties:
        id: { type: string }
        datetime: { type: string }
        location: { type: string }
        users-id:
          type: array
          items: { type: string }

    ####################################
    # AG
    ####################################
    AG:
      type: object
      properties:
        date: { type: string }
        time: { type: string }
        location: { type: string }
        participants:
          type: array
          items:
            $ref: "#/components/schemas/Participant"

    ####################################
    # INFORMATION EVENING
    ####################################
    InformationEvening:
      type: object
      properties:
        date: { type: string }
        time: { type: string }
        location: { type: string }
        participants:
          type: array
          items:
            $ref: "#/components/schemas/Participant"

    Participant:
      type: object
      properties:
        mail: { type: string }
        number-of-participants: { type: string }

    ####################################
    # HIKE
    ####################################
    Hike:
      type: object
      properties:
        GPS-track: { type: object }
        photos:
          type: array
          items:
            type: object
            properties:
              file: { type: string }
        user-id: { type: string }
        date: { type: string }
        number: { type: string }
        start-point: { type: string }
        end-point: { type: string }
        distance: { type: string }
        elevation-gain: { type: string }
        elevation-loss: { type: string }
        route-description: { type: string }

    ####################################
    # ITEM (GLOBAL)
    ####################################
    Item:
      type: object
      properties:
        id: { type: string }
        slug: { type: string }
        name: { type: string }
        description: { type: string }

tags:
  - name: Authentication
    description: Authentification utilisateur
  - name: Camps
    description: Gestion des camps
  - name: Trainings
    description: Entraînements liés aux camps
  - name: Items
    description: Objets disponibles
  - name: Hikes
    description: Randonnées effectuées
  - name: Étapes
    description: Étapes du camp
  - name: Fundraisings
    description: Activités de financement
  - name: AG
    description: Assemblées générales du camp
  - name: InformationEvening
    description: Soirées d'information du camp

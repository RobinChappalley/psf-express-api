openapi: 3.0.0
info:
  title: Camps API
  version: 1.0.0

paths:
  ########################
  # AUTHENTICATION
  ########################

  /login:
    post:
      tags: [Authentication]
      summary: Connexion utilisateur (NON IMPLÉMENTÉ)
      description: Cette route n'est pas encore implémentée dans le code
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - email
                - password
              properties:
                email: { type: string, format: email }
                password: { type: string }
      responses:
        "200":
          description: Connexion réussie
        "400":
          description: Données invalides
        "401":
          description: Identifiants invalides
        "500":
          description: Erreur interne du serveur

  /logout:
    post:
      tags: [Authentication]
      summary: Déconnexion utilisateur (NON IMPLÉMENTÉ)
      description: Cette route n'est pas encore implémentée dans le code
      responses:
        "200":
          description: Déconnexion réussie
        "500":
          description: Erreur interne du serveur

  ########################
  # CAMPS
  ########################

  /camps:
    get:
      tags: [Camps]
      summary: Récupérer la liste de tous les camps
      responses:
        "200":
          description: Liste de camps
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/Camp"
        "500":
          description: Erreur interne du serveur
    post:
      tags: [Camps]
      summary: Ajouter un camp
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - title
              properties:
                title: { type: string }
                startDate: { type: string, format: date-time }
                endDate: { type: string, format: date-time }
                subStartDatetime: { type: string, format: date-time }
                subEndDatetime: { type: string, format: date-time }
                gpsTrack: { type: object }
      responses:
        "201":
          description: Camp créé
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Camp"
        "400":
          description: Données invalides
        "500":
          description: Erreur interne du serveur

  /camps/{id}:
    get:
      tags: [Camps]
      summary: Récupérer un camp
      parameters:
        - in: path
          name: id
          required: true
          schema: { type: string }
          description: ID du camp
      responses:
        "200":
          description: Camp trouvé
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Camp"
        "404":
          description: Camp non trouvé
        "500":
          description: Erreur interne du serveur
    put:
      tags: [Camps]
      summary: Mettre à jour un camp
      parameters:
        - in: path
          name: id
          required: true
          schema: { type: string }
          description: ID du camp
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                title: { type: string }
                startDate: { type: string, format: date-time }
                endDate: { type: string, format: date-time }
                subStartDatetime: { type: string, format: date-time }
                subEndDatetime: { type: string, format: date-time }
                gpsTrack: { type: object }
      responses:
        "200":
          description: Camp mis à jour
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Camp"
        "404":
          description: Camp non trouvé
        "500":
          description: Erreur interne du serveur
    delete:
      tags: [Camps]
      summary: Supprimer un camp
      parameters:
        - in: path
          name: id
          required: true
          schema: { type: string }
          description: ID du camp
      responses:
        "200":
          description: Camp supprimé
        "404":
          description: Camp non trouvé
        "500":
          description: Erreur interne du serveur

  ########################
  # CAMP ITEMS
  ########################

  /camps/{id}/items:
    get:
      tags: [Items]
      summary: Récupérer tous les objets d'un camp
      parameters:
        - in: path
          name: id
          required: true
          schema: { type: string }
          description: ID du camp
      responses:
        "200":
          description: Liste des objets
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/CampItem"
        "404":
          description: Camp non trouvé
        "500":
          description: Erreur interne du serveur
    post:
      tags: [Items]
      summary: Ajouter un objet à un camp
      parameters:
        - in: path
          name: id
          required: true
          schema: { type: string }
          description: ID du camp
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                item: { type: string, description: "ID de l'objet (référence à Item)" }
                quantity: { type: number }
      responses:
        "201":
          description: Objet ajouté
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CampItem"
        "400":
          description: Données invalides
        "404":
          description: Camp non trouvé
        "500":
          description: Erreur interne du serveur

  /camps/{id}/item/{itemId}:
    put:
      tags: [Items]
      summary: Mettre à jour un objet d'un camp
      parameters:
        - in: path
          name: id
          required: true
          schema: { type: string }
          description: ID du camp
        - in: path
          name: itemId
          required: true
          schema: { type: string }
          description: ID de l'objet dans la liste du camp
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                item: { type: string, description: "ID de l'objet (référence à Item)" }
                quantity: { type: number }
      responses:
        "200":
          description: Objet mis à jour
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CampItem"
        "400":
          description: Données invalides
        "404":
          description: Camp ou objet non trouvé
        "500":
          description: Erreur interne du serveur
    delete:
      tags: [Items]
      summary: Supprimer un objet d'un camp
      parameters:
        - in: path
          name: id
          required: true
          schema: { type: string }
          description: ID du camp
        - in: path
          name: itemId
          required: true
          schema: { type: string }
          description: ID de l'objet dans la liste du camp
      responses:
        "200":
          description: Objet supprimé
        "404":
          description: Camp ou objet non trouvé
        "500":
          description: Erreur interne du serveur

  ########################
  # CAMP TRAININGS
  ########################

  /camps/{id}/trainings:
    get:
      tags: [Trainings]
      summary: Récupérer les entraînements d'un camp
      parameters:
        - in: path
          name: id
          required: true
          schema: { type: string }
          description: ID du camp
      responses:
        "200":
          description: Liste des entraînements
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/Training"
        "404":
          description: Camp non trouvé
        "500":
          description: Erreur interne du serveur
    post:
      tags: [Trainings]
      summary: Ajouter un entraînement
      parameters:
        - in: path
          name: id
          required: true
          schema: { type: string }
          description: ID du camp
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - number
              properties:
                number: { type: number, description: "Numéro unique de l'entraînement" }
                date: { type: string, format: date-time }
                trainGoingTime: { type: string }
                meetingTime: { type: string }
                meetingPoint: { type: string }
                returnTime: { type: string }
                trainReturnTime: { type: string }
                distance: { type: number }
                elevationGain: { type: number }
                elevationLoss: { type: number }
                remark: { type: string }
                responsiblePerson: { type: string, description: "ID de l'utilisateur responsable" }
      responses:
        "201":
          description: Entraînement ajouté
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Training"
        "400":
          description: Données invalides
        "404":
          description: Camp non trouvé
        "500":
          description: Erreur interne du serveur

  /camps/{id}/trainings/{trainingId}:
    put:
      tags: [Trainings]
      summary: Modifier un entraînement
      parameters:
        - in: path
          name: id
          required: true
          schema: { type: string }
          description: ID du camp
        - in: path
          name: trainingId
          required: true
          schema: { type: string }
          description: ID de l'entraînement
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                number: { type: number, description: "Numéro unique de l'entraînement" }
                date: { type: string, format: date-time }
                trainGoingTime: { type: string }
                meetingTime: { type: string }
                meetingPoint: { type: string }
                returnTime: { type: string }
                trainReturnTime: { type: string }
                distance: { type: number }
                elevationGain: { type: number }
                elevationLoss: { type: number }
                remark: { type: string }
                responsiblePerson: { type: string, description: "ID de l'utilisateur responsable" }
      responses:
        "200":
          description: Entraînement mis à jour
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Training"
        "400":
          description: Données invalides
        "404":
          description: Camp ou entraînement non trouvé
        "500":
          description: Erreur interne du serveur
    delete:
      tags: [Trainings]
      summary: Supprimer un entraînement
      parameters:
        - in: path
          name: id
          required: true
          schema: { type: string }
          description: ID du camp
        - in: path
          name: trainingId
          required: true
          schema: { type: string }
          description: ID de l'entraînement
      responses:
        "200":
          description: Entraînement supprimé
        "404":
          description: Camp ou entraînement non trouvé
        "500":
          description: Erreur interne du serveur

  /camps/{id}/trainings/{trainingId}/items:
    get:
      tags: [Items]
      summary: Récupérer les objets d'un entraînement
      parameters:
        - in: path
          name: id
          required: true
          schema: { type: string }
          description: ID du camp
        - in: path
          name: trainingId
          required: true
          schema: { type: string }
          description: ID de l'entraînement
      responses:
        "200":
          description: Liste des objets
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/CampItem"
        "404":
          description: Camp ou entraînement non trouvé
        "500":
          description: Erreur interne du serveur
    post:
      tags: [Items]
      summary: Ajouter un objet d'entraînement
      parameters:
        - in: path
          name: id
          required: true
          schema: { type: string }
          description: ID du camp
        - in: path
          name: trainingId
          required: true
          schema: { type: string }
          description: ID de l'entraînement
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                itemId: { type: string, description: "ID de l'objet (référence à Item)" }
                quantity: { type: number }
      responses:
        "201":
          description: Objet ajouté
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CampItem"
        "400":
          description: Données invalides
        "404":
          description: Camp ou entraînement non trouvé
        "500":
          description: Erreur interne du serveur

  /camps/{id}/trainings/{trainingId}/items/{itemId}:
    put:
      tags: [Items]
      summary: Modifier un objet d'entraînement
      parameters:
        - in: path
          name: id
          required: true
          schema: { type: string }
          description: ID du camp
        - in: path
          name: trainingId
          required: true
          schema: { type: string }
          description: ID de l'entraînement
        - in: path
          name: itemId
          required: true
          schema: { type: string }
          description: ID de l'objet dans la liste
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                itemId: { type: string, description: "ID de l'objet (référence à Item)" }
                quantity: { type: number }
      responses:
        "200":
          description: Objet modifié
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CampItem"
        "400":
          description: Données invalides
        "404":
          description: Camp, entraînement ou objet non trouvé
        "500":
          description: Erreur interne du serveur
    delete:
      tags: [Items]
      summary: Supprimer un objet d'entraînement
      parameters:
        - in: path
          name: id
          required: true
          schema: { type: string }
          description: ID du camp
        - in: path
          name: trainingId
          required: true
          schema: { type: string }
          description: ID de l'entraînement
        - in: path
          name: itemId
          required: true
          schema: { type: string }
          description: ID de l'objet dans la liste
      responses:
        "200":
          description: Objet supprimé
        "404":
          description: Camp, entraînement ou objet non trouvé
        "500":
          description: Erreur interne du serveur

  ########################
  # HIKES
  ########################

  /hikes:
    get:
      tags: [Hikes]
      summary: Récupérer la liste des marches (NON IMPLÉMENTÉ)
      description: Cette route n'est pas encore implémentée dans le code
      responses:
        "200":
          description: Liste des marches
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/Hike"
        "500":
          description: Erreur interne du serveur
    post:
      tags: [Hikes]
      summary: Ajouter une marche (NON IMPLÉMENTÉ)
      description: Cette route n'est pas encore implémentée dans le code
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - user
              properties:
                user: { type: string, description: "ID de l'utilisateur (référence à User)" }
                date: { type: string, format: date-time }
                startPoint: { type: string }
                endPoint: { type: string }
                distance: { type: number }
                elevationGain: { type: number }
                elevationLoss: { type: number }
                routeDescription: { type: string }
                gpsTrack: { type: object }
      responses:
        "201":
          description: Marche ajoutée
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Hike"
        "400":
          description: Données invalides
        "500":
          description: Erreur interne du serveur

  /hikes/{id}:
    get:
      tags: [Hikes]
      summary: Récupérer une marche (NON IMPLÉMENTÉ)
      description: Cette route n'est pas encore implémentée dans le code
      parameters:
        - in: path
          name: id
          required: true
          schema: { type: string }
          description: ID de la marche
      responses:
        "200":
          description: Marche trouvée
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Hike"
        "404":
          description: Marche non trouvée
        "500":
          description: Erreur interne du serveur
    put:
      tags: [Hikes]
      summary: Mettre à jour une marche (NON IMPLÉMENTÉ)
      description: Cette route n'est pas encore implémentée dans le code
      parameters:
        - in: path
          name: id
          required: true
          schema: { type: string }
          description: ID de la marche
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                user: { type: string, description: "ID de l'utilisateur (référence à User)" }
                date: { type: string, format: date-time }
                startPoint: { type: string }
                endPoint: { type: string }
                distance: { type: number }
                elevationGain: { type: number }
                elevationLoss: { type: number }
                routeDescription: { type: string }
                gpsTrack: { type: object }
      responses:
        "200":
          description: Marche mise à jour
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Hike"
        "400":
          description: Données invalides
        "404":
          description: Marche non trouvée
        "500":
          description: Erreur interne du serveur
    delete:
      tags: [Hikes]
      summary: Supprimer une marche (NON IMPLÉMENTÉ)
      description: Cette route n'est pas encore implémentée dans le code
      parameters:
        - in: path
          name: id
          required: true
          schema: { type: string }
          description: ID de la marche
      responses:
        "200":
          description: Marche supprimée
        "404":
          description: Marche non trouvée
        "500":
          description: Erreur interne du serveur

  ########################
  # ITEMS (GLOBAL)
  ########################

  /items:
    get:
      tags: [Items]
      summary: Récupérer tous les objets du répertoire (NON IMPLÉMENTÉ)
      description: Cette route n'est pas encore implémentée dans le code
      responses:
        "200":
          description: Liste de tous les objets du répertoire
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/Item"
        "403":
          description: Accès refusé
        "500":
          description: Erreur interne au serveur
    post:
      tags: [Items]
      summary: Ajouter un objet au répertoire (NON IMPLÉMENTÉ)
      description: Cette route n'est pas encore implémentée dans le code
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - slug
                - name
              properties:
                slug: { type: string, description: "Identifiant unique en format slug" }
                name: { type: string, description: "Nom de l'objet" }
                description: { type: string }
      responses:
        "201": { description: Objet ajouté au répertoire }
        "400":
          description: Données invalides
        "403":
          description: Accès refusé
        "500":
          description: Erreur interne au serveur

  /items/{id}:
    put:
      tags: [Items]
      summary: Modifier un objet du répertoire (NON IMPLÉMENTÉ)
      description: Cette route n'est pas encore implémentée dans le code
      parameters:
        - in: path
          name: id
          required: true
          schema: { type: string }
          description: ID de l'objet
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                slug: { type: string, description: "Identifiant unique en format slug" }
                name: { type: string, description: "Nom de l'objet" }
                description: { type: string }
      responses:
        "200":
          description: Objet modifié
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Item"
        "400":
          description: Données invalides
        "404":
          description: Objet non trouvé
        "500":
          description: Erreur interne du serveur
        "403":
          description: Accès refusé
    delete:
      tags: [Items]
      summary: Supprimer un objet du répertoire (NON IMPLÉMENTÉ)
      description: Cette route n'est pas encore implémentée dans le code
      parameters:
        - in: path
          name: id
          required: true
          schema: { type: string }
          description: ID de l'objet
      responses:
        "200":
          description: Objet supprimé du répertoire
        "404":
          description: Objet non trouvé
        "500":
          description: Erreur interne du serveur
        "403":
          description: Accès refusé

  ########################
  # FUNDRAISINGS
  ########################

  /camps/{id}/fundraisings:
    get:
      tags: [Fundraisings]
      summary: Récupérer les ventes pour un camp (NON IMPLÉMENTÉ)
      description: Cette route n'est pas encore implémentée dans le code
      parameters:
        - in: path
          name: id
          required: true
          schema: { type: string }
          description: ID du camp
      responses:
        "200":
          description: Liste des ventes pour un camp
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/Fundraising"
        "403":
          description: Accès refusé
        "500":
          description: Erreur interne au serveur
        "404":
          description: Camp non trouvé
    post:
      tags: [Fundraisings]
      summary: Ajouter une vente à un camp (NON IMPLÉMENTÉ)
      description: Cette route n'est pas encore implémentée dans le code
      parameters:
        - in: path
          name: id
          required: true
          schema: { type: string }
          description: ID du camp
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - number
              properties:
                number: { type: number, description: "Numéro unique de la vente" }
                dateTime: { type: string, format: date-time }
                location: { type: string }
                participants:
                  type: array
                  items:
                    type: string
                    description: "ID de l'utilisateur participant"
      responses:
        "201":
          description: Vente ajoutée
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Fundraising"
        "400":
          description: Données invalides
        "404":
          description: Camp non trouvé
        "500":
          description: Erreur interne du serveur

  /camps/{id}/fundraisings/{fundraisingId}:
    get:
      tags: [Fundraisings]
      summary: Récupérer une vente d'un camp (NON IMPLÉMENTÉ)
      description: Cette route n'est pas encore implémentée dans le code
      parameters:
        - in: path
          name: id
          required: true
          schema: { type: string }
          description: ID du camp
        - in: path
          name: fundraisingId
          required: true
          schema: { type: string }
          description: ID de la vente
      responses:
        "200":
          description: Vente trouvée
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Fundraising"
        "404":
          description: Camp ou vente non trouvé
        "500":
          description: Erreur interne du serveur
        "400":
          description: Données invalides
        "403":
          description: Accès refusé
    put:
      tags: [Fundraisings]
      summary: Modifier une vente (NON IMPLÉMENTÉ)
      description: Cette route n'est pas encore implémentée dans le code
      parameters:
        - in: path
          name: id
          required: true
          schema: { type: string }
          description: ID du camp
        - in: path
          name: fundraisingId
          required: true
          schema: { type: string }
          description: ID de la vente
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                number: { type: number, description: "Numéro unique de la vente" }
                dateTime: { type: string, format: date-time }
                location: { type: string }
                participants:
                  type: array
                  items:
                    type: string
                    description: "ID de l'utilisateur participant"
      responses:
        "200":
          description: Vente modifiée
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Fundraising"
        "400":
          description: Données invalides
        "404":
          description: Camp ou vente non trouvé
        "500":
          description: Erreur interne du serveur
        "403":
          description: Accès refusé
    delete:
      tags: [Fundraisings]
      summary: Supprimer une vente (NON IMPLÉMENTÉ)
      description: Cette route n'est pas encore implémentée dans le code
      parameters:
        - in: path
          name: id
          required: true
          schema: { type: string }
          description: ID du camp
        - in: path
          name: fundraisingId
          required: true
          schema: { type: string }
          description: ID de la vente
      responses:
        "200":
          description: Vente supprimée
        "404":
          description: Camp ou vente non trouvé
        "500":
          description: Erreur interne du serveur
        "403":
          description: Accès refusé

  ########################
  # STAGES
  ########################

  /camps/{id}/stages:
    get:
      tags: [Étapes]
      summary: Récupérer les étapes d'un camp (NON IMPLÉMENTÉ)
      description: Cette route n'est pas encore implémentée dans le code
      parameters:
        - in: path
          name: id
          required: true
          schema: { type: string }
          description: ID du camp
      responses:
        "200":
          description: Liste des étapes d'un camp
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/Stage"
        "404":
          description: Camp non trouvé
        "500":
          description: Erreur interne du serveur
        "403":
          description: Accès refusé
    post:
      tags: [Étapes]
      summary: Ajouter une étape à un camp (NON IMPLÉMENTÉ)
      description: Cette route n'est pas encore implémentée dans le code
      parameters:
        - in: path
          name: id
          required: true
          schema: { type: string }
          description: ID du camp
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - number
              properties:
                number: { type: number, description: "Numéro unique de l'étape" }
                date: { type: string, format: date-time }
                startPoint: { type: string }
                endPoint: { type: string }
                distance: { type: number }
                elevationGain: { type: number }
                elevationLoss: { type: number }
                routeDescription: { type: string }
      responses:
        "201":
          description: Étape ajoutée
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Stage"
        "400":
          description: Données invalides
        "404":
          description: Camp non trouvé
        "500":
          description: Erreur interne du serveur

  /camps/{id}/stages/{stageId}:
    get:
      tags: [Étapes]
      summary: Récupérer une étape d'un camp (NON IMPLÉMENTÉ)
      description: Cette route n'est pas encore implémentée dans le code
      parameters:
        - in: path
          name: id
          required: true
          schema: { type: string }
          description: ID du camp
        - in: path
          name: stageId
          required: true
          schema: { type: string }
          description: ID de l'étape
      responses:
        "200":
          description: Étape trouvée
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Stage"
        "404":
          description: Camp ou étape non trouvé
        "500":
          description: Erreur interne du serveur
        "403":
          description: Accès refusé
    put:
      tags: [Étapes]
      summary: Modifier une étape (NON IMPLÉMENTÉ)
      description: Cette route n'est pas encore implémentée dans le code
      parameters:
        - in: path
          name: id
          required: true
          schema: { type: string }
          description: ID du camp
        - in: path
          name: stageId
          required: true
          schema: { type: string }
          description: ID de l'étape
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                number: { type: number, description: "Numéro unique de l'étape" }
                date: { type: string, format: date-time }
                startPoint: { type: string }
                endPoint: { type: string }
                distance: { type: number }
                elevationGain: { type: number }
                elevationLoss: { type: number }
                routeDescription: { type: string }
      responses:
        "200":
          description: Étape modifiée
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Stage"
        "400":
          description: Données invalides
        "404":
          description: Camp ou étape non trouvé
        "500":
          description: Erreur interne du serveur
    delete:
      tags: [Étapes]
      summary: Supprimer une étape d'un camp (NON IMPLÉMENTÉ)
      description: Cette route n'est pas encore implémentée dans le code
      parameters:
        - in: path
          name: id
          required: true
          schema: { type: string }
          description: ID du camp
        - in: path
          name: stageId
          required: true
          schema: { type: string }
          description: ID de l'étape
      responses:
        "200":
          description: Étape supprimée
        "404":
          description: Camp ou étape non trouvé
        "500":
          description: Erreur interne du serveur

  ########################
  # AG
  ########################

  /camps/{id}/ag:
    get:
      tags: [AG]
      summary: Récupérer l'AG d'un camp (NON IMPLÉMENTÉ)
      description: Cette route n'est pas encore implémentée dans le code
      parameters:
        - name: id
          in: path
          required: true
          schema: { type: string }
          description: ID du camp
      responses:
        "200":
          description: AG trouvée
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/GeneralMeeting"
        "404":
          description: Camp ou AG non trouvé
        "500":
          description: Erreur interne du serveur
    post:
      tags: [AG]
      summary: Ajouter une AG à un camp (NON IMPLÉMENTÉ)
      description: Cette route n'est pas encore implémentée dans le code
      parameters:
        - name: id
          in: path
          required: true
          schema: { type: string }
          description: ID du camp
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                dateTime: { type: string, format: date-time }
                location: { type: string }
                participants:
                  type: array
                  items:
                    $ref: "#/components/schemas/Participant"
      responses:
        "201":
          description: AG ajoutée
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/GeneralMeeting"
        "400":
          description: Données invalides
        "404":
          description: Camp non trouvé
        "500":
          description: Erreur interne du serveur
    put:
      tags: [AG]
      summary: Modifier l'AG d'un camp (NON IMPLÉMENTÉ)
      description: Cette route n'est pas encore implémentée dans le code
      parameters:
        - name: id
          in: path
          required: true
          schema: { type: string }
          description: ID du camp
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                dateTime: { type: string, format: date-time }
                location: { type: string }
                participants:
                  type: array
                  items:
                    $ref: "#/components/schemas/Participant"
      responses:
        "200":
          description: AG modifiée
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/GeneralMeeting"
        "400":
          description: Données invalides
        "404":
          description: Camp ou AG non trouvé
        "500":
          description: Erreur interne du serveur
    delete:
      tags: [AG]
      summary: Supprimer une AG (NON IMPLÉMENTÉ)
      description: Cette route n'est pas encore implémentée dans le code
      parameters:
        - name: id
          in: path
          required: true
          schema: { type: string }
          description: ID du camp
      responses:
        "200":
          description: AG supprimée
        "404":
          description: Camp ou AG non trouvé
        "500":
          description: Erreur interne du serveur

  ########################
  # INFORMATION EVENING
  ########################

  /camps/{id}/information-evening:
    get:
      tags: [InformationEvening]
      summary: Récupérer une soirée d'information (NON IMPLÉMENTÉ)
      description: Cette route n'est pas encore implémentée dans le code
      parameters:
        - name: id
          in: path
          required: true
          schema: { type: string }
          description: ID du camp
      responses:
        "200":
          description: Soirée trouvée
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/InformationEvening"
        "404":
          description: Camp ou IE non trouvé
        "500":
          description: Erreur interne du serveur
    post:
      tags: [InformationEvening]
      summary: Ajouter une soirée d'information à un camp (NON IMPLÉMENTÉ)
      description: Cette route n'est pas encore implémentée dans le code
      parameters:
        - name: id
          in: path
          required: true
          schema: { type: string }
          description: ID du camp
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                dateTime: { type: string, format: date-time }
                location: { type: string }
                participants:
                  type: array
                  items:
                    $ref: "#/components/schemas/Participant"
      responses:
        "201":
          description: IE ajoutée
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/InformationEvening"
        "400":
          description: Données invalides
        "404":
          description: Camp non trouvé
        "500":
          description: Erreur interne du serveur
    put:
      tags: [InformationEvening]
      summary: Modifier une soirée d'information (NON IMPLÉMENTÉ)
      description: Cette route n'est pas encore implémentée dans le code
      parameters:
        - name: id
          in: path
          required: true
          schema: { type: string }
          description: ID du camp
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                dateTime: { type: string, format: date-time }
                location: { type: string }
                participants:
                  type: array
                  items:
                    $ref: "#/components/schemas/Participant"
      responses:
        "200":
          description: IE modifiée
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/InformationEvening"
        "400":
          description: Données invalides
        "404":
          description: Camp ou IE non trouvé
        "500":
          description: Erreur interne du serveur
    delete:
      tags: [InformationEvening]
      summary: Supprimer une soirée d'information (NON IMPLÉMENTÉ)
      description: Cette route n'est pas encore implémentée dans le code
      parameters:
        - name: id
          in: path
          required: true
          schema: { type: string }
          description: ID du camp
      responses:
        "200":
          description: IE supprimée
        "404":
          description: Camp ou IE non trouvé
        "500":
          description: Erreur interne du serveur

  ########################
  # USERS
  ########################

  /users:
    get:
      tags: [Users]
      summary: Récupérer la liste de tous les utilisateurs (NON IMPLÉMENTÉ)
      description: Cette route retourne actuellement juste un message texte, pas une liste d'utilisateurs
      responses:
        "200":
          description: Liste des utilisateurs
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/User"
        "500":
          description: Erreur interne du serveur
    post:
      tags: [Users]
      summary: Ajouter un utilisateur (NON IMPLÉMENTÉ)
      description: Cette route n'est pas encore implémentée dans le code
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UserInput"
      responses:
        "201":
          description: Utilisateur créé
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/User"
        "400":
          description: Données invalides
        "500":
          description: Erreur interne du serveur

  /users/{id}:
    get:
      tags: [Users]
      summary: Récupérer un utilisateur (NON IMPLÉMENTÉ)
      description: Cette route n'est pas encore implémentée dans le code
      parameters:
        - in: path
          name: id
          required: true
          schema: { type: string }
          description: ID de l'utilisateur
      responses:
        "200":
          description: Utilisateur trouvé
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/User"
        "404":
          description: Utilisateur non trouvé
        "500":
          description: Erreur interne du serveur
    put:
      tags: [Users]
      summary: Modifier un utilisateur (NON IMPLÉMENTÉ)
      description: Cette route n'est pas encore implémentée dans le code
      parameters:
        - in: path
          name: id
          required: true
          schema: { type: string }
          description: ID de l'utilisateur
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UserInput"
      responses:
        "200":
          description: Utilisateur modifié
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/User"
        "400":
          description: Données invalides
        "404":
          description: Utilisateur non trouvé
        "500":
          description: Erreur interne du serveur
    delete:
      tags: [Users]
      summary: Supprimer un utilisateur (NON IMPLÉMENTÉ)
      description: Cette route n'est pas encore implémentée dans le code
      parameters:
        - in: path
          name: id
          required: true
          schema: { type: string }
          description: ID de l'utilisateur
      responses:
        "200":
          description: Utilisateur supprimé
        "404":
          description: Utilisateur non trouvé
        "500":
          description: Erreur interne du serveur

#############################
# SCHEMAS
#############################

components:
  schemas:
    ####################################
    # USER
    ####################################
    User:
      type: object
      properties:
        id: { type: string }
        role:
          type: array
          items: { type: string }
          enum: ["admin", "accompagnant", "parent", "enfant"]
        lastname:
          type: string
          minLength: 1
          maxLength: 50
          example: "Dupont"
        firstname:
          type: string
          minLength: 1
          maxLength: 50
          example: "Jean"
        email:
          type: string
          format: email
          example: "jean.dupont@example.com"
        phoneNumber:
          type: string
        address:
          type: object
          properties:
            street: { type: string }
            city: { type: string }
            postalCode: { type: number }
            country: { type: string }
        parent:
          type: string
          example: "60d0fe4f5311236168a109ca"
        children:
          type: array
          items: { type: string }
        camps:
          type: array
          items: { type: string }
        participationInfo:
          type: object
          properties:
            birthDate:
              type: string
              format: date
              example: "2005-06-15"
            tshirtInfo:
              type: object
              properties:
                size:
                  type: string
                  enum: ["xxs", "xs", "s", "m", "l", "xl", "xxl"]
                  example: "m"
                gender:
                  type: string
                  enum: ["m", "f"]
                  example: "f"
            allergies:
              type: array
              items: { type: string }
            medication:
              type: array
              items: { type: string }
            insuranceNumber: { type: string }
            insuranceName: { type: string }
            idExpireDate:
              type: string
              format: date
              example: "2026-12-31"
            publicTransportPass:
              type: string
              enum: ["AG", "demi-tarif", "aucun"]
            isCASMember: { type: boolean }
            isHelicopterInsured: { type: boolean }
            hasPhotoConsent: { type: boolean }
            hasPaid: { type: boolean }

    ####################################
    # CAMP
    ####################################
    Camp:
      type: object
      required:
        - title
      properties:
        id: { type: string }
        title: { type: string, example: "Camp de marche 2025" }
        startDate:
          type: string
          format: date
          example: "2025-07-01"
        endDate:
          type: string
          format: date
          example: "2025-07-15"
        subStartDatetime:
          type: string
          format: date-time
          example: "2025-03-01T09:00:00Z"
        subEndDatetime:
          type: string
          format: date-time
          example: "2025-05-31T23:59:59Z"
        gpsTrack:
          type: object
          description: "Objet JSON représentant le tracé GPS (structure non spécifiée)"
        itemsList:
          type: array
          items:
            $ref: "#/components/schemas/CampItem"
        information-evening:
          $ref: "#/components/schemas/InfoEvening"
        trainings:
          type: array
          items:
            $ref: "#/components/schemas/Training"
        fundraisings:
          type: array
          items:
            $ref: "#/components/schemas/Fundraising"
        generalMeeting:
          $ref: "#/components/schemas/GeneralMeeting"
        stages:
          type: array
          items:
            $ref: "#/components/schemas/Stage"

    CampItem:
      type: object
      properties:
        item:
          type: string
          description: "ID de l'objet (référence à Item)"
        quantity: { type: number }

    ####################################
    # INFORMATION EVENING
    ####################################
    InfoEvening:
      type: object
      required:
        - number
      properties:
        dateTime:
          type: string
          format: date-time
          example: "2025-06-15T18:00:00Z"
        location: { type: string, example: "Salle des fêtes, Lausanne" }
        participants:
          type: array
          items:
            type: object
            properties:
              email:
                type: string
                format: email
                example: "parent@example.com"
              nbOfParticipants: { type: integer, example: 2 }

    ####################################
    # TRAINING
    ####################################
    Training:
      type: object
      required:
        - number
      properties:
        number: { type: integer, example: 1 }
        date:
          type: string
          format: date
          example: "2025-07-02"
        trainGoingTime: { type: string, example: "08:00" }
        trainReturnTime: { type: string, example: "18:00" }
        meetingTime: { type: string, example: "08:30" }
        meetingPoint: { type: string, example: "Gare centrale" }
        returnTime: { type: string, example: "17:30" }
        distance: { type: number, example: 12.5 }
        elevationGain: { type: number, example: 300 }
        elevationLoss: { type: number, example: 200 }
        responsiblePerson:
          type: string
        items-list:
          type: array
          items:
            $ref: "#/components/schemas/CampItem"
        remark: { type: string, example: "Prévoir des chaussures imperméables" }

    ####################################
    # FUNDRAISING
    ####################################
    Fundraising:
      type: object
      required:
        - number
      properties:
        id: { type: string }
        number: { type: integer, example: 1 }
        dateTime:
          type: string
          format: date-time
          example: "2025-06-20T19:00:00Z"
        location: { type: string, example: "Café du Marché, Lausanne" }
        participants:
          type: array
          items:
            type: string
            example: "60d0fe4f5311236168a109ca"

    ####################################
    # GENERAL MEETING
    ####################################
    GeneralMeeting:
      type: object
      properties:
        dateTime:
          type: string
          format: date-time
          example: "2025-07-10T19:00:00Z"
        location: { type: string, example: "Salle des fêtes" }
        participants:
          type: array
        items:
          type: object
          properties:
            email:
              type: string
              format: email
              example: "membre@example.com"
            nbOfParticipants: { type: integer, example: 1 }

    ####################################
    # STAGE
    ####################################
    Stage:
      type: object
      required:
        - email
      properties:
        number: { type: integer, example: 1 }
        date:
          type: string
          format: date
          example: "2025-07-03"
        startPoint: { type: string, example: "Col de Jaman" }
        endPoint: { type: string, example: "Château-d'Oex" }
        distance: { type: number, example: 15.2 }
        elevationGain: { type: number, example: 500 }
        elevationLoss: { type: number, example: 300 }
        routeDescription:
          { type: string, example: "Par le sentier des alpages" }

    ####################################
    # HIKE
    ####################################
    Hike:
      type: object
      required:
        - user
      properties:
        user:
          type: string
          example: "60d0fe4f5311236168a109ca"
          description: "ID de l'utilisateur ayant effectué la randonnée"
        date:
          type: string
          format: date
          example: "2025-07-05"
        gpsTrack:
          type: object
          description: "Objet JSON représentant le tracé GPS (structure non spécifiée)"
        startPoint: { type: string, example: "Col de Jaman" }
        endPoint: { type: string, example: "Château-d'Oex" }
        distance: { type: number, example: 15.2 }
        elevationGain: { type: number, example: 500 }
        elevationLoss: { type: number, example: 300 }
        routeDescription: { type: string }

    ####################################
    # ITEM (GLOBAL)
    ####################################
    Item:
      type: object
      required:
        - slug
        - name
      properties:
        _id: { type: string, description: "ID MongoDB" }
        slug: { type: string, description: "Identifiant unique en format slug" }
        name: { type: string, description: "Nom unique de l'objet" }
        description: { type: string }

tags:
  - name: Authentication
    description: Authentification utilisateur
  - name: Camps
    description: Gestion des camps
  - name: Trainings
    description: Entraînements liés aux camps
  - name: Items
    description: Objets disponibles
  - name: Hikes
    description: Randonnées effectuées
  - name: Étapes
    description: Étapes du camp
  - name: Fundraisings
    description: Activités de financement
  - name: AG
    description: Assemblées générales du camp
  - name: InformationEvening
    description: Soirées d'information du camp
  - name: Users
    description: Gestion des utilisateurs
